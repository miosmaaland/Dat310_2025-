{"ast":null,"code":"export default {\n  name: \"UserProfile\",\n  data() {\n    return {\n      username: localStorage.getItem('username') || 'Guest',\n      score: 0,\n      theme: 'light'\n    };\n  },\n  methods: {\n    logout() {\n      fetch('/api/logout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(() => {\n        localStorage.removeItem('user_id');\n        localStorage.removeItem('username');\n        this.$router.push('/');\n      }).catch(() => {\n        alert('Logout failed. Please try again.');\n      });\n    },\n    fetchTheme() {\n      fetch('/api/user/theme', {\n        credentials: 'include'\n      }).then(res => res.json()).then(data => {\n        if (data.theme) {\n          this.theme = data.theme;\n          document.body.className = data.theme;\n        }\n      });\n    },\n    toggleTheme() {\n      const newTheme = this.theme === 'dark' ? 'light' : 'dark';\n      fetch('/api/user/theme', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          theme: newTheme\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.theme) {\n          this.theme = data.theme;\n          document.body.className = data.theme;\n        }\n      });\n    }\n  },\n  mounted() {\n    fetch('/api/leaderboard').then(res => res.json()).then(data => {\n      const user = data.find(u => u.username === this.username);\n      if (user) {\n        this.score = user.score;\n      }\n    }).catch(() => {\n      this.score = 0;\n    });\n    this.fetchTheme();\n  }\n};","map":{"version":3,"names":["name","data","username","localStorage","getItem","score","theme","methods","logout","fetch","method","headers","then","res","json","removeItem","$router","push","catch","alert","fetchTheme","credentials","document","body","className","toggleTheme","newTheme","JSON","stringify","mounted","user","find","u"],"sources":["/Users/miosmaland/Skole/Dat310/san/cs-quiz-master/frontend/src/components/Profile.vue"],"sourcesContent":["<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <!-- ...navbar content unchanged... -->\n    </nav>\n    <div class=\"container mt-5 text-center\">\n      <h1>Hello, {{ username }}! ðŸ‘‹</h1>\n      <p>Your Current Score: {{ score }}</p>\n      <nav class=\"d-flex justify-content-center gap-3 mt-4\">\n        <router-link class=\"btn btn-primary\" to=\"/play\">Take More Quizzes</router-link>\n        <button class=\"btn btn-danger\" @click=\"logout\">Logout</button>\n      </nav>\n      <div class=\"mt-4\">\n        <button class=\"btn btn-secondary\" @click=\"toggleTheme\">\n          Switch to {{ theme === 'dark' ? 'Light' : 'Dark' }} Mode\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"UserProfile\",\n  data() {\n    return {\n      username: localStorage.getItem('username') || 'Guest',\n      score: 0,\n      theme: 'light',\n    };\n  },\n  methods: {\n    logout() {\n      fetch('/api/logout', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      })\n        .then((res) => res.json())\n        .then(() => {\n          localStorage.removeItem('user_id');\n          localStorage.removeItem('username');\n          this.$router.push('/');\n        })\n        .catch(() => {\n          alert('Logout failed. Please try again.');\n        });\n    },\n    fetchTheme() {\n      fetch('/api/user/theme', { credentials: 'include' })\n        .then(res => res.json())\n        .then(data => {\n          if (data.theme) {\n            this.theme = data.theme;\n            document.body.className = data.theme;\n          }\n        });\n    },\n    toggleTheme() {\n      const newTheme = this.theme === 'dark' ? 'light' : 'dark';\n      fetch('/api/user/theme', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ theme: newTheme }),\n      })\n        .then(res => res.json())\n        .then(data => {\n          if (data.theme) {\n            this.theme = data.theme;\n            document.body.className = data.theme;\n          }\n        });\n    },\n  },\n  mounted() {\n    fetch('/api/leaderboard')\n      .then((res) => res.json())\n      .then((data) => {\n        const user = data.find((u) => u.username === this.username);\n        if (user) {\n          this.score = user.score;\n        }\n      })\n      .catch(() => {\n        this.score = 0;\n      });\n    this.fetchTheme();\n  },\n};\n</script>\n\n<style>\nbody.light {\n  background-color: #fff;\n  color: #222;\n}\nbody.dark {\n  background-color: #181818;\n  color: #eee;\n}\n</style>"],"mappings":"AAsBA,eAAe;EACbA,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,UAAU,KAAK,OAAO;MACrDC,KAAK,EAAE,CAAC;MACRC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAG;MACPC,KAAK,CAAC,aAAa,EAAE;QACnBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAChD,CAAC,EACEC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EACxBF,IAAI,CAAC,MAAM;QACVT,YAAY,CAACY,UAAU,CAAC,SAAS,CAAC;QAClCZ,YAAY,CAACY,UAAU,CAAC,UAAU,CAAC;QACnC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACxB,CAAC,EACAC,KAAK,CAAC,MAAM;QACXC,KAAK,CAAC,kCAAkC,CAAC;MAC3C,CAAC,CAAC;IACN,CAAC;IACDC,UAAUA,CAAA,EAAG;MACXX,KAAK,CAAC,iBAAiB,EAAE;QAAEY,WAAW,EAAE;MAAU,CAAC,EAChDT,IAAI,CAACC,GAAE,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EACtBF,IAAI,CAACX,IAAG,IAAK;QACZ,IAAIA,IAAI,CAACK,KAAK,EAAE;UACd,IAAI,CAACA,KAAI,GAAIL,IAAI,CAACK,KAAK;UACvBgB,QAAQ,CAACC,IAAI,CAACC,SAAQ,GAAIvB,IAAI,CAACK,KAAK;QACtC;MACF,CAAC,CAAC;IACN,CAAC;IACDmB,WAAWA,CAAA,EAAG;MACZ,MAAMC,QAAO,GAAI,IAAI,CAACpB,KAAI,KAAM,MAAK,GAAI,OAAM,GAAI,MAAM;MACzDG,KAAK,CAAC,iBAAiB,EAAE;QACvBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CU,WAAW,EAAE,SAAS;QACtBE,IAAI,EAAEI,IAAI,CAACC,SAAS,CAAC;UAAEtB,KAAK,EAAEoB;QAAS,CAAC;MAC1C,CAAC,EACEd,IAAI,CAACC,GAAE,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EACtBF,IAAI,CAACX,IAAG,IAAK;QACZ,IAAIA,IAAI,CAACK,KAAK,EAAE;UACd,IAAI,CAACA,KAAI,GAAIL,IAAI,CAACK,KAAK;UACvBgB,QAAQ,CAACC,IAAI,CAACC,SAAQ,GAAIvB,IAAI,CAACK,KAAK;QACtC;MACF,CAAC,CAAC;IACN;EACF,CAAC;EACDuB,OAAOA,CAAA,EAAG;IACRpB,KAAK,CAAC,kBAAkB,EACrBG,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EACxBF,IAAI,CAAEX,IAAI,IAAK;MACd,MAAM6B,IAAG,GAAI7B,IAAI,CAAC8B,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAAC9B,QAAO,KAAM,IAAI,CAACA,QAAQ,CAAC;MAC3D,IAAI4B,IAAI,EAAE;QACR,IAAI,CAACzB,KAAI,GAAIyB,IAAI,CAACzB,KAAK;MACzB;IACF,CAAC,EACAa,KAAK,CAAC,MAAM;MACX,IAAI,CAACb,KAAI,GAAI,CAAC;IAChB,CAAC,CAAC;IACJ,IAAI,CAACe,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}