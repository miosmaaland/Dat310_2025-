{"ast":null,"code":"export default {\n  name: \"HangmanGame\",\n  data() {\n    return {\n      questions: [],\n      newQuestion: {\n        question: \"\",\n        correct_answer: \"\",\n        wrong1: \"\",\n        wrong2: \"\",\n        wrong3: \"\",\n        category_id: 1,\n        level: 1\n      },\n      editId: null,\n      editQuestion: {},\n      errorMessage: \"\",\n      successMessage: \"\"\n    };\n  },\n  computed: {\n    isAdmin() {\n      // You may want to check this from localStorage or a global store\n      return localStorage.getItem(\"is_admin\") === \"1\";\n    }\n  },\n  methods: {\n    fetchQuestions() {\n      fetch(\"/api/questions\", {\n        credentials: \"include\"\n      }).then(res => res.json()).then(data => {\n        this.questions = data;\n      });\n    },\n    addQuestion() {\n      const payload = {\n        question: this.newQuestion.question,\n        correct_answer: this.newQuestion.correct_answer,\n        wrong_answers: [this.newQuestion.wrong1, this.newQuestion.wrong2, this.newQuestion.wrong3],\n        category_id: this.newQuestion.category_id,\n        level: this.newQuestion.level\n      };\n      fetch(\"/api/questions\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify(payload)\n      }).then(res => res.json()).then(data => {\n        if (data.success) {\n          this.successMessage = \"Question added!\";\n          this.errorMessage = \"\";\n          this.fetchQuestions();\n          this.newQuestion = {\n            question: \"\",\n            correct_answer: \"\",\n            wrong1: \"\",\n            wrong2: \"\",\n            wrong3: \"\",\n            category_id: 1,\n            level: 1\n          };\n        } else {\n          this.errorMessage = data.error || \"Failed to add question.\";\n          this.successMessage = \"\";\n        }\n      });\n    },\n    deleteQuestion(id) {\n      fetch(`/api/questions/${id}`, {\n        method: \"DELETE\",\n        credentials: \"include\"\n      }).then(res => res.json()).then(data => {\n        if (data.success) {\n          this.successMessage = \"Question deleted!\";\n          this.errorMessage = \"\";\n          this.fetchQuestions();\n        } else {\n          this.errorMessage = data.error || \"Failed to delete question.\";\n          this.successMessage = \"\";\n        }\n      });\n    },\n    startEdit(q) {\n      this.editId = q.id;\n      this.editQuestion = {\n        question: q.question,\n        correct_answer: q.correct_answer,\n        category_id: q.category_id,\n        level: q.level\n      };\n    },\n    saveEdit(id) {\n      // For simplicity, keep wrong_answers unchanged in edit\n      const original = this.questions.find(q => q.id === id);\n      const payload = {\n        question: this.editQuestion.question,\n        correct_answer: this.editQuestion.correct_answer,\n        wrong_answers: original.wrong_answers,\n        category_id: this.editQuestion.category_id,\n        level: this.editQuestion.level\n      };\n      fetch(`/api/questions/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify(payload)\n      }).then(res => res.json()).then(data => {\n        if (data.success) {\n          this.successMessage = \"Question updated!\";\n          this.errorMessage = \"\";\n          this.editId = null;\n          this.editQuestion = {};\n          this.fetchQuestions();\n        } else {\n          this.errorMessage = data.error || \"Failed to update question.\";\n          this.successMessage = \"\";\n        }\n      });\n    },\n    cancelEdit() {\n      this.editId = null;\n      this.editQuestion = {};\n    }\n  },\n  mounted() {\n    this.fetchQuestions();\n  }\n};","map":{"version":3,"names":["name","data","questions","newQuestion","question","correct_answer","wrong1","wrong2","wrong3","category_id","level","editId","editQuestion","errorMessage","successMessage","computed","isAdmin","localStorage","getItem","methods","fetchQuestions","fetch","credentials","then","res","json","addQuestion","payload","wrong_answers","method","headers","body","JSON","stringify","success","error","deleteQuestion","id","startEdit","q","saveEdit","original","find","cancelEdit","mounted"],"sources":["/Users/miosmaland/Skole/Dat310/san/cs-quiz-master/frontend/src/components/Admin.vue"],"sourcesContent":["<template>\n    <div class=\"container mt-5\">\n      <h2>Admin: Manage Questions</h2>\n      <div v-if=\"!isAdmin\" class=\"alert alert-danger\">You are not authorized to view this page.</div>\n      <div v-else>\n        <form @submit.prevent=\"addQuestion\" class=\"mb-4\">\n          <h4>Add New Question</h4>\n          <input v-model=\"newQuestion.question\" placeholder=\"Question\" class=\"form-control mb-2\" required />\n          <input v-model=\"newQuestion.correct_answer\" placeholder=\"Correct Answer\" class=\"form-control mb-2\" required />\n          <input v-model=\"newQuestion.wrong1\" placeholder=\"Wrong Answer 1\" class=\"form-control mb-2\" required />\n          <input v-model=\"newQuestion.wrong2\" placeholder=\"Wrong Answer 2\" class=\"form-control mb-2\" required />\n          <input v-model=\"newQuestion.wrong3\" placeholder=\"Wrong Answer 3\" class=\"form-control mb-2\" required />\n          <input v-model.number=\"newQuestion.category_id\" placeholder=\"Category ID\" class=\"form-control mb-2\" required />\n          <input v-model.number=\"newQuestion.level\" placeholder=\"Level (1-3)\" class=\"form-control mb-2\" required />\n          <button class=\"btn btn-success\" type=\"submit\">Add Question</button>\n        </form>\n  \n        <h4>All Questions</h4>\n        <table class=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Question</th>\n              <th>Correct</th>\n              <th>Category</th>\n              <th>Level</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"q in questions\" :key=\"q.id\">\n              <td>{{ q.id }}</td>\n              <td>\n                <input v-if=\"editId === q.id\" v-model=\"editQuestion.question\" class=\"form-control\" />\n                <span v-else>{{ q.question }}</span>\n              </td>\n              <td>\n                <input v-if=\"editId === q.id\" v-model=\"editQuestion.correct_answer\" class=\"form-control\" />\n                <span v-else>{{ q.correct_answer }}</span>\n              </td>\n              <td>\n                <input v-if=\"editId === q.id\" v-model.number=\"editQuestion.category_id\" class=\"form-control\" />\n                <span v-else>{{ q.category_id }}</span>\n              </td>\n              <td>\n                <input v-if=\"editId === q.id\" v-model.number=\"editQuestion.level\" class=\"form-control\" />\n                <span v-else>{{ q.level }}</span>\n              </td>\n              <td>\n                <button v-if=\"editId !== q.id\" class=\"btn btn-primary btn-sm\" @click=\"startEdit(q)\">Edit</button>\n                <button v-if=\"editId === q.id\" class=\"btn btn-success btn-sm\" @click=\"saveEdit(q.id)\">Save</button>\n                <button v-if=\"editId === q.id\" class=\"btn btn-secondary btn-sm\" @click=\"cancelEdit\">Cancel</button>\n                <button class=\"btn btn-danger btn-sm\" @click=\"deleteQuestion(q.id)\">Delete</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div v-if=\"errorMessage\" class=\"alert alert-danger\">{{ errorMessage }}</div>\n        <div v-if=\"successMessage\" class=\"alert alert-success\">{{ successMessage }}</div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: \"HangmanGame\",\n    data() {\n      return {\n        questions: [],\n        newQuestion: {\n          question: \"\",\n          correct_answer: \"\",\n          wrong1: \"\",\n          wrong2: \"\",\n          wrong3: \"\",\n          category_id: 1,\n          level: 1,\n        },\n        editId: null,\n        editQuestion: {},\n        errorMessage: \"\",\n        successMessage: \"\",\n      };\n    },\n    computed: {\n      isAdmin() {\n        // You may want to check this from localStorage or a global store\n        return localStorage.getItem(\"is_admin\") === \"1\";\n      },\n    },\n    methods: {\n      fetchQuestions() {\n        fetch(\"/api/questions\", { credentials: \"include\" })\n          .then((res) => res.json())\n          .then((data) => {\n            this.questions = data;\n          });\n      },\n      addQuestion() {\n        const payload = {\n          question: this.newQuestion.question,\n          correct_answer: this.newQuestion.correct_answer,\n          wrong_answers: [\n            this.newQuestion.wrong1,\n            this.newQuestion.wrong2,\n            this.newQuestion.wrong3,\n          ],\n          category_id: this.newQuestion.category_id,\n          level: this.newQuestion.level,\n        };\n        fetch(\"/api/questions\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          credentials: \"include\",\n          body: JSON.stringify(payload),\n        })\n          .then((res) => res.json())\n          .then((data) => {\n            if (data.success) {\n              this.successMessage = \"Question added!\";\n              this.errorMessage = \"\";\n              this.fetchQuestions();\n              this.newQuestion = {\n                question: \"\",\n                correct_answer: \"\",\n                wrong1: \"\",\n                wrong2: \"\",\n                wrong3: \"\",\n                category_id: 1,\n                level: 1,\n              };\n            } else {\n              this.errorMessage = data.error || \"Failed to add question.\";\n              this.successMessage = \"\";\n            }\n          });\n      },\n      deleteQuestion(id) {\n        fetch(`/api/questions/${id}`, {\n          method: \"DELETE\",\n          credentials: \"include\",\n        })\n          .then((res) => res.json())\n          .then((data) => {\n            if (data.success) {\n              this.successMessage = \"Question deleted!\";\n              this.errorMessage = \"\";\n              this.fetchQuestions();\n            } else {\n              this.errorMessage = data.error || \"Failed to delete question.\";\n              this.successMessage = \"\";\n            }\n          });\n      },\n      startEdit(q) {\n        this.editId = q.id;\n        this.editQuestion = {\n          question: q.question,\n          correct_answer: q.correct_answer,\n          category_id: q.category_id,\n          level: q.level,\n        };\n      },\n      saveEdit(id) {\n        // For simplicity, keep wrong_answers unchanged in edit\n        const original = this.questions.find(q => q.id === id);\n        const payload = {\n          question: this.editQuestion.question,\n          correct_answer: this.editQuestion.correct_answer,\n          wrong_answers: original.wrong_answers,\n          category_id: this.editQuestion.category_id,\n          level: this.editQuestion.level,\n        };\n        fetch(`/api/questions/${id}`, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          credentials: \"include\",\n          body: JSON.stringify(payload),\n        })\n          .then((res) => res.json())\n          .then((data) => {\n            if (data.success) {\n              this.successMessage = \"Question updated!\";\n              this.errorMessage = \"\";\n              this.editId = null;\n              this.editQuestion = {};\n              this.fetchQuestions();\n            } else {\n              this.errorMessage = data.error || \"Failed to update question.\";\n              this.successMessage = \"\";\n            }\n          });\n      },\n      cancelEdit() {\n        this.editId = null;\n        this.editQuestion = {};\n      },\n    },\n    mounted() {\n      this.fetchQuestions();\n    },\n  };\n  </script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}