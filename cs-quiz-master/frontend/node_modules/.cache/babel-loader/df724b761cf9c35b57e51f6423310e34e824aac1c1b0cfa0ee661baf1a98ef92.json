{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-dark bg-dark\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"collapse navbar-collapse\",\n  id: \"navbarNav\"\n};\nconst _hoisted_4 = {\n  class: \"navbar-nav ms-auto\"\n};\nconst _hoisted_5 = {\n  class: \"nav-item\"\n};\nconst _hoisted_6 = {\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  class: \"nav-item\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  class: \"nav-item\"\n};\nconst _hoisted_10 = {\n  class: \"col-md-5\"\n};\nconst _hoisted_11 = [\"value\"];\nconst _hoisted_12 = {\n  class: \"col-md-5\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    class: \"navbar-brand\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"CS Quiz Master\")])),\n    _: 1 /* STABLE */,\n    __: [5]\n  }), _cache[11] || (_cache[11] = _createElementVNode(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarNav\",\n    \"aria-controls\": \"navbarNav\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, [_createElementVNode(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"Home\")])),\n    _: 1 /* STABLE */,\n    __: [6]\n  })]), _createElementVNode(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/profile\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Profile\")])),\n    _: 1 /* STABLE */,\n    __: [7]\n  })]), _createElementVNode(\"li\", _hoisted_7, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/leaderboard\"\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Leaderboard\")])),\n    _: 1 /* STABLE */,\n    __: [8]\n  })]), _createElementVNode(\"li\", _hoisted_8, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/hangman\"\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"Hangman\")])),\n    _: 1 /* STABLE */,\n    __: [9]\n  })]), _createElementVNode(\"li\", _hoisted_9, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/logout\"\n  }, {\n    default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"Logout\")])),\n    _: 1 /* STABLE */,\n    __: [10]\n  })])])])])]), _cache[17] || (_cache[17] = _createStaticVNode(\"<section class=\\\"hero-section d-flex flex-column justify-content-center align-items-center text-center py-5 mb-4\\\" data-v-46127d64><div class=\\\"hero-icon mb-3\\\" data-v-46127d64><span style=\\\"font-size:3rem;\\\" data-v-46127d64>ðŸ’»</span></div><h1 class=\\\"display-5 fw-bold text-white\\\" data-v-46127d64>Computer Science Challenge</h1><p class=\\\"lead text-white-50 mb-0\\\" data-v-46127d64>Test your knowledge and earn points!</p></section>\", 1)), _createElementVNode(\"form\", {\n    class: \"row g-3 mb-4\",\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.fetchQuestion && $options.fetchQuestion(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_10, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"category\",\n    class: \"form-label\"\n  }, \"Category\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.category = $event),\n    id: \"category\",\n    class: \"form-select\",\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.fetchQuestion && $options.fetchQuestion(...args))\n  }, [_cache[12] || (_cache[12] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Any\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, cat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: cat.id,\n      value: cat.id\n    }, _toDisplayString(cat.name), 9 /* TEXT, PROPS */, _hoisted_11);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.category]])]), _createElementVNode(\"div\", _hoisted_12, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    for: \"level\",\n    class: \"form-label\"\n  }, \"Level\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.level = $event),\n    id: \"level\",\n    class: \"form-select\",\n    onChange: _cache[3] || (_cache[3] = (...args) => $options.fetchQuestion && $options.fetchQuestion(...args))\n  }, _cache[14] || (_cache[14] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Any\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"1\"\n  }, \"Level 1\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"2\"\n  }, \"Level 2\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"3\"\n  }, \"Level 3\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.level]])]), _cache[16] || (_cache[16] = _createElementVNode(\"div\", {\n    class: \"col-md-2 d-flex align-items-end\"\n  }, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary w-100\"\n  }, \"New Question\")], -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","id","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_cache","type","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","onSubmit","_withModifiers","args","$options","fetchQuestion","_hoisted_10","for","$data","category","$event","onChange","value","_Fragment","_renderList","categories","cat","key","name","_hoisted_11","_hoisted_12","level"],"sources":["/Users/miosmaland/Skole/Dat310/san/cs-quiz-master/frontend/src/components/Play.vue"],"sourcesContent":["<template>\n  <div>\n    \n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <div class=\"container\">\n        <router-link class=\"navbar-brand\" to=\"/\">CS Quiz Master</router-link>\n        <button\n          class=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul class=\"navbar-nav ms-auto\">\n            <li class=\"nav-item\">\n              <router-link class=\"nav-link\" to=\"/\">Home</router-link>\n            </li>\n            <li class=\"nav-item\">\n              <router-link class=\"nav-link\" to=\"/profile\">Profile</router-link>\n            </li>\n            <li class=\"nav-item\">\n              <router-link class=\"nav-link\" to=\"/leaderboard\">Leaderboard</router-link>\n            </li>\n            <li class=\"nav-item\">\n              <router-link class=\"nav-link\" to=\"/hangman\">Hangman</router-link>\n            </li>\n            <li class=\"nav-item\">\n              <router-link class=\"nav-link\" to=\"/logout\">Logout</router-link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n\n    <section class=\"hero-section d-flex flex-column justify-content-center align-items-center text-center py-5 mb-4\">\n  <div class=\"hero-icon mb-3\">\n    <span style=\"font-size: 3rem;\">ðŸ’»</span>\n  </div>\n  <h1 class=\"display-5 fw-bold text-white\">Computer Science Challenge</h1>\n  <p class=\"lead text-white-50 mb-0\">Test your knowledge and earn points!</p>\n</section>\n\n\n<form class=\"row g-3 mb-4\" @submit.prevent=\"fetchQuestion\">\n        <div class=\"col-md-5\">\n          <label for=\"category\" class=\"form-label\">Category</label>\n          <select v-model=\"category\" id=\"category\" class=\"form-select\" @change=\"fetchQuestion\">\n            <option value=\"\">Any</option>\n            <option v-for=\"cat in categories\" :key=\"cat.id\" :value=\"cat.id\">{{ cat.name }}</option>\n          </select>\n        </div>\n        <div class=\"col-md-5\">\n          <label for=\"level\" class=\"form-label\">Level</label>\n          <select v-model=\"level\" id=\"level\" class=\"form-select\" @change=\"fetchQuestion\">\n            <option value=\"\">Any</option>\n            <option value=\"1\">Level 1</option>\n            <option value=\"2\">Level 2</option>\n            <option value=\"3\">Level 3</option>\n          </select>\n        </div>\n        <div class=\"col-md-2 d-flex align-items-end\">\n          <button type=\"submit\" class=\"btn btn-primary w-100\">New Question</button>\n        </div>\n      </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"QuizPlay\",\n  data() {\n    return {\n    categories: [],\n    category: \"\",\n    level: \"\",\n    question: null,\n    score: 0,\n    message: '',\n    correctAnswer: null,\n    loading: false,\n  };\n  },\n  methods: {\n    fetchCategories() {\n      fetch('/api/categories')\n        .then(res => res.json())\n        .then(data => {\n          this.categories = data;\n        });\n        \n    },\n\n\n\n\n\n\n    fetchScore() {\n      fetch('/api/leaderboard')\n        .then(res => res.json())\n        .then(data => {\n          const username = localStorage.getItem('username');\n          const user = data.find(u => u.username === username);\n          if (user) this.score = user.score;\n        });\n    },\n    fetchQuestion() {\n  this.loading = true;\n  let url = '/api/question';\n  const params = [];\n  if (this.category) params.push(`category=${encodeURIComponent(this.category)}`);\n  if (this.level) params.push(`level=${encodeURIComponent(this.level)}`);\n  if (params.length) url += '?' + params.join('&');\n  fetch(url)\n    .then((res) => res.json())\n    .then((data) => {\n      if (!data.error) {\n        this.question = data;\n        this.message = '';\n        this.correctAnswer = null;\n      } else {\n        this.message = data.error;\n      }\n      this.loading = false;\n    })\n    .catch(() => {\n      this.message = 'Failed to load question.';\n      this.loading = false;\n    });\n},\n    submitAnswer(key) {\n      if (this.loading) return;\n      this.loading = true;\n      const answerText = this.question.options[key];\n      fetch('/api/answer', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ question_id: this.question.id, answer: answerText }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          this.correctAnswer = data.correct;\n          if (data.correct) {\n            this.message = 'Correct! +10 points';\n          } else {\n            this.message = data.correct_answer\n              ? `Wrong! The correct answer was ${data.correct_answer}`\n              : 'Wrong! (No correct answer found)';\n          }\n          this.fetchScore();\n          setTimeout(() => {\n            this.fetchQuestion();\n            this.message = '';\n            this.correctAnswer = null;\n          }, 1000);\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n    skipQuestion() {\n      if (this.loading) return;\n      this.loading = true;\n      fetch('/api/skip', { method: 'POST' })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.success) {\n            this.message = 'Question skipped. -5 points';\n            this.fetchScore();\n            setTimeout(() => {\n              this.fetchQuestion();\n            }, 800);\n          } else {\n            this.message = data.error || 'Could not skip the question.';\n          }\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n  },\n  mounted() {\n    this.fetchCategories();\n    this.fetchScore();\n    this.fetchQuestion();\n  },\n};\n</script>\n\n<style scoped>\n.hero-section {\n  background: linear-gradient(120deg, #fd7e14 0%, #007bff 100%);\n  min-height: 220px;\n  border-radius: 0 0 2rem 2rem;\n  box-shadow: 0 4px 24px rgba(0,0,0,0.08);\n}\n.hero-icon {\n  filter: drop-shadow(0 2px 8px rgba(0,0,0,0.15));\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}