{"ast":null,"code":"export default {\n  name: \"QuizPlay\",\n  data() {\n    return {\n      question: null,\n      score: 0,\n      message: '',\n      correctAnswer: null,\n      loading: false\n    };\n  },\n  methods: {\n    getAuthHeaders() {\n      const token = localStorage.getItem(\"token\");\n      return {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      };\n    },\n    fetchQuestion() {\n      this.loading = true;\n      fetch(\"http://192.168.1.158:5001/api/question\", {\n        headers: this.getAuthHeaders()\n      }).then(res => res.json()).then(data => {\n        if (!data.error) {\n          this.question = data;\n          this.message = \"\";\n          this.correctAnswer = null;\n        } else {\n          this.message = data.error;\n        }\n      }).catch(() => {\n        this.message = \"Failed to load question.\";\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    submitAnswer(answer) {\n      if (this.loading) return;\n      this.loading = true;\n      fetch(\"http://192.168.1.158:5001/api/answer\", {\n        method: \"POST\",\n        headers: this.getAuthHeaders(),\n        body: JSON.stringify({\n          question_id: this.question.id,\n          answer\n        })\n      }).then(res => res.json()).then(data => {\n        this.correctAnswer = data.correct;\n        if (data.correct) {\n          this.message = \"Correct!\";\n          this.score += 1;\n        } else {\n          this.message = `Wrong! The correct answer was ${data.correct_answer}`;\n        }\n        this.fetchQuestion();\n      }).catch(() => {\n        this.message = \"Failed to submit answer.\";\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    skipQuestion() {\n      if (this.loading) return;\n      this.loading = true;\n      fetch(\"http://192.168.1.158:5001/api/skip\", {\n        method: \"POST\",\n        headers: this.getAuthHeaders()\n      }).then(res => res.json()).then(data => {\n        if (data.success) {\n          this.score -= 5;\n          this.message = \"Question skipped.\";\n          this.fetchQuestion();\n        } else {\n          this.message = data.error || \"Could not skip the question.\";\n        }\n      }).catch(() => {\n        this.message = \"Failed to skip question.\";\n      }).finally(() => {\n        this.loading = false;\n      });\n    }\n  },\n  mounted() {\n    this.fetchQuestion();\n  }\n};","map":{"version":3,"names":["name","data","question","score","message","correctAnswer","loading","methods","getAuthHeaders","token","localStorage","getItem","Authorization","fetchQuestion","fetch","headers","then","res","json","error","catch","finally","submitAnswer","answer","method","body","JSON","stringify","question_id","id","correct","correct_answer","skipQuestion","success","mounted"],"sources":["/Users/miosmaland/Skole/Dat310/san/cs-quiz-master/frontend/src/components/Login.vue"],"sourcesContent":["<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <div class=\"container\">\n        <router-link class=\"navbar-brand\" to=\"/\">CS Quiz Master</router-link>\n        <button\n          class=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul class=\"navbar-nav ms-auto\">\n            <li class=\"nav-item\"><router-link class=\"nav-link\" to=\"/\">Home</router-link></li>\n            <li class=\"nav-item\"><router-link class=\"nav-link\" to=\"/profile\">Profile</router-link></li>\n            <li class=\"nav-item\"><router-link class=\"nav-link\" to=\"/leaderboard\">Leaderboard</router-link></li>\n            <li class=\"nav-item\"><router-link class=\"nav-link\" to=\"/hangman\">Hangman</router-link></li>\n            <li class=\"nav-item\"><router-link class=\"nav-link\" to=\"/logout\">Logout</router-link></li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n\n    <div class=\"container mt-5\">\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <h1>üíª Computer Science Challenge</h1>\n        <div class=\"fs-4\">Score: {{ score }}</div>\n      </div>\n\n      <div class=\"mb-3\">\n        <p class=\"lead\">{{ question ? question.question : 'Loading question...' }}</p>\n      </div>\n\n      <div class=\"mb-3\">\n        <div class=\"list-group\">\n          <button\n            v-for=\"(option, key) in question?.options\"\n            :key=\"key\"\n            @click=\"submitAnswer(key)\"\n            class=\"list-group-item list-group-item-action\"\n            :disabled=\"loading\"\n          >\n            {{ key }}: {{ option }}\n          </button>\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <button class=\"btn btn-warning\" @click=\"skipQuestion\" :disabled=\"loading\">\n          ‚è© Skip Question (-5)\n        </button>\n      </div>\n\n      <p class=\"fs-5\" :class=\"{'text-success': correctAnswer, 'text-danger': correctAnswer === false}\">\n        {{ message }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"QuizPlay\",\n  data() {\n    return {\n      question: null,\n      score: 0,\n      message: '',\n      correctAnswer: null,\n      loading: false,\n    };\n  },\n  methods: {\n    getAuthHeaders() {\n      const token = localStorage.getItem(\"token\");\n      return {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      };\n    },\n    fetchQuestion() {\n      this.loading = true;\n      fetch(\"http://192.168.1.158:5001/api/question\", {\n        headers: this.getAuthHeaders(),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (!data.error) {\n            this.question = data;\n            this.message = \"\";\n            this.correctAnswer = null;\n          } else {\n            this.message = data.error;\n          }\n        })\n        .catch(() => {\n          this.message = \"Failed to load question.\";\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n    submitAnswer(answer) {\n      if (this.loading) return;\n      this.loading = true;\n\n      fetch(\"http://192.168.1.158:5001/api/answer\", {\n        method: \"POST\",\n        headers: this.getAuthHeaders(),\n        body: JSON.stringify({ question_id: this.question.id, answer }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          this.correctAnswer = data.correct;\n          if (data.correct) {\n            this.message = \"Correct!\";\n            this.score += 1;\n          } else {\n            this.message = `Wrong! The correct answer was ${data.correct_answer}`;\n          }\n          this.fetchQuestion();\n        })\n        .catch(() => {\n          this.message = \"Failed to submit answer.\";\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n    skipQuestion() {\n      if (this.loading) return;\n      this.loading = true;\n\n      fetch(\"http://192.168.1.158:5001/api/skip\", {\n        method: \"POST\",\n        headers: this.getAuthHeaders(),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.success) {\n            this.score -= 5;\n            this.message = \"Question skipped.\";\n            this.fetchQuestion();\n          } else {\n            this.message = data.error || \"Could not skip the question.\";\n          }\n        })\n        .catch(() => {\n          this.message = \"Failed to skip question.\";\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n  },\n  mounted() {\n    this.fetchQuestion();\n  },\n};\n</script>\n"],"mappings":"AAmEA,eAAe;EACbA,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE,CAAC;MACRC,OAAO,EAAE,EAAE;MACXC,aAAa,EAAE,IAAI;MACnBC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACf,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,OAAO;QACL,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,UAAUH,KAAK;MAChC,CAAC;IACH,CAAC;IACDI,aAAaA,CAAA,EAAG;MACd,IAAI,CAACP,OAAM,GAAI,IAAI;MACnBQ,KAAK,CAAC,wCAAwC,EAAE;QAC9CC,OAAO,EAAE,IAAI,CAACP,cAAc,CAAC;MAC/B,CAAC,EACEQ,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EACxBF,IAAI,CAAEf,IAAI,IAAK;QACd,IAAI,CAACA,IAAI,CAACkB,KAAK,EAAE;UACf,IAAI,CAACjB,QAAO,GAAID,IAAI;UACpB,IAAI,CAACG,OAAM,GAAI,EAAE;UACjB,IAAI,CAACC,aAAY,GAAI,IAAI;QAC3B,OAAO;UACL,IAAI,CAACD,OAAM,GAAIH,IAAI,CAACkB,KAAK;QAC3B;MACF,CAAC,EACAC,KAAK,CAAC,MAAM;QACX,IAAI,CAAChB,OAAM,GAAI,0BAA0B;MAC3C,CAAC,EACAiB,OAAO,CAAC,MAAM;QACb,IAAI,CAACf,OAAM,GAAI,KAAK;MACtB,CAAC,CAAC;IACN,CAAC;IACDgB,YAAYA,CAACC,MAAM,EAAE;MACnB,IAAI,IAAI,CAACjB,OAAO,EAAE;MAClB,IAAI,CAACA,OAAM,GAAI,IAAI;MAEnBQ,KAAK,CAAC,sCAAsC,EAAE;QAC5CU,MAAM,EAAE,MAAM;QACdT,OAAO,EAAE,IAAI,CAACP,cAAc,CAAC,CAAC;QAC9BiB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,WAAW,EAAE,IAAI,CAAC1B,QAAQ,CAAC2B,EAAE;UAAEN;QAAO,CAAC;MAChE,CAAC,EACEP,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EACxBF,IAAI,CAAEf,IAAI,IAAK;QACd,IAAI,CAACI,aAAY,GAAIJ,IAAI,CAAC6B,OAAO;QACjC,IAAI7B,IAAI,CAAC6B,OAAO,EAAE;UAChB,IAAI,CAAC1B,OAAM,GAAI,UAAU;UACzB,IAAI,CAACD,KAAI,IAAK,CAAC;QACjB,OAAO;UACL,IAAI,CAACC,OAAM,GAAI,iCAAiCH,IAAI,CAAC8B,cAAc,EAAE;QACvE;QACA,IAAI,CAAClB,aAAa,CAAC,CAAC;MACtB,CAAC,EACAO,KAAK,CAAC,MAAM;QACX,IAAI,CAAChB,OAAM,GAAI,0BAA0B;MAC3C,CAAC,EACAiB,OAAO,CAAC,MAAM;QACb,IAAI,CAACf,OAAM,GAAI,KAAK;MACtB,CAAC,CAAC;IACN,CAAC;IACD0B,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAAC1B,OAAO,EAAE;MAClB,IAAI,CAACA,OAAM,GAAI,IAAI;MAEnBQ,KAAK,CAAC,oCAAoC,EAAE;QAC1CU,MAAM,EAAE,MAAM;QACdT,OAAO,EAAE,IAAI,CAACP,cAAc,CAAC;MAC/B,CAAC,EACEQ,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EACxBF,IAAI,CAAEf,IAAI,IAAK;QACd,IAAIA,IAAI,CAACgC,OAAO,EAAE;UAChB,IAAI,CAAC9B,KAAI,IAAK,CAAC;UACf,IAAI,CAACC,OAAM,GAAI,mBAAmB;UAClC,IAAI,CAACS,aAAa,CAAC,CAAC;QACtB,OAAO;UACL,IAAI,CAACT,OAAM,GAAIH,IAAI,CAACkB,KAAI,IAAK,8BAA8B;QAC7D;MACF,CAAC,EACAC,KAAK,CAAC,MAAM;QACX,IAAI,CAAChB,OAAM,GAAI,0BAA0B;MAC3C,CAAC,EACAiB,OAAO,CAAC,MAAM;QACb,IAAI,CAACf,OAAM,GAAI,KAAK;MACtB,CAAC,CAAC;IACN;EACF,CAAC;EACD4B,OAAOA,CAAA,EAAG;IACR,IAAI,CAACrB,aAAa,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}