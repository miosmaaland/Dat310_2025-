{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5 text-center\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex justify-content-center gap-3 mt-4\"\n};\nconst _hoisted_3 = {\n  class: \"mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"nav\", {\n    class: \"navbar navbar-expand-lg navbar-dark bg-dark\"\n  }, [_createCommentVNode(\" ...navbar content unchanged... \")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"h1\", null, \"Hello, \" + _toDisplayString($data.username) + \"! ðŸ‘‹\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"Your Current Score: \" + _toDisplayString($data.score), 1 /* TEXT */), _createElementVNode(\"nav\", _hoisted_2, [_createVNode(_component_router_link, {\n    class: \"btn btn-primary\",\n    to: \"/play\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Take More Quizzes\")])),\n    _: 1 /* STABLE */,\n    __: [2]\n  }), _createElementVNode(\"button\", {\n    class: \"btn btn-danger\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\")]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: \"btn btn-secondary\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleTheme && $options.toggleTheme(...args))\n  }, \" Switch to \" + _toDisplayString($data.theme === 'dark' ? 'Light' : 'Dark') + \" Mode \", 1 /* TEXT */)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","_createCommentVNode","_hoisted_1","_toDisplayString","$data","username","score","_hoisted_2","_createVNode","_component_router_link","to","_cache","onClick","args","$options","logout","_hoisted_3","toggleTheme","theme"],"sources":["/Users/miosmaland/Skole/Dat310/san/cs-quiz-master/frontend/src/components/Profile.vue"],"sourcesContent":["<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <!-- ...navbar content unchanged... -->\n    </nav>\n    <div class=\"container mt-5 text-center\">\n      <h1>Hello, {{ username }}! ðŸ‘‹</h1>\n      <p>Your Current Score: {{ score }}</p>\n      <nav class=\"d-flex justify-content-center gap-3 mt-4\">\n        <router-link class=\"btn btn-primary\" to=\"/play\">Take More Quizzes</router-link>\n        <button class=\"btn btn-danger\" @click=\"logout\">Logout</button>\n      </nav>\n      <div class=\"mt-4\">\n        <button class=\"btn btn-secondary\" @click=\"toggleTheme\">\n          Switch to {{ theme === 'dark' ? 'Light' : 'Dark' }} Mode\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"UserProfile\",\n  data() {\n    return {\n      username: localStorage.getItem('username') || 'Guest',\n      score: 0,\n      theme: 'light',\n    };\n  },\n  methods: {\n    logout() {\n      fetch('/api/logout', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      })\n        .then((res) => res.json())\n        .then(() => {\n          localStorage.removeItem('user_id');\n          localStorage.removeItem('username');\n          this.$router.push('/');\n        })\n        .catch(() => {\n          alert('Logout failed. Please try again.');\n        });\n    },\n    fetchTheme() {\n      fetch('/api/user/theme', { credentials: 'include' })\n        .then(res => res.json())\n        .then(data => {\n          if (data.theme) {\n            this.theme = data.theme;\n            document.body.className = data.theme;\n          }\n        });\n    },\n    toggleTheme() {\n      const newTheme = this.theme === 'dark' ? 'light' : 'dark';\n      fetch('/api/user/theme', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ theme: newTheme }),\n      })\n        .then(res => res.json())\n        .then(data => {\n          if (data.theme) {\n            this.theme = data.theme;\n            document.body.className = data.theme;\n          }\n        });\n    },\n  },\n  mounted() {\n    fetch('/api/leaderboard')\n      .then((res) => res.json())\n      .then((data) => {\n        const user = data.find((u) => u.username === this.username);\n        if (user) {\n          this.score = user.score;\n        }\n      })\n      .catch(() => {\n        this.score = 0;\n      });\n    this.fetchTheme();\n  },\n};\n</script>\n\n<style>\nbody.light {\n  background-color: #fff;\n  color: #222;\n}\nbody.dark {\n  background-color: #181818;\n  color: #eee;\n}\n</style>"],"mappings":";;EAKSA,KAAK,EAAC;AAA4B;;EAGhCA,KAAK,EAAC;AAA0C;;EAIhDA,KAAK,EAAC;AAAM;;;uBAXrBC,mBAAA,CAiBM,c,0BAhBJC,mBAAA,CAEM;IAFDF,KAAK,EAAC;EAA6C,IACtDG,mBAAA,oCAAuC,C,sBAEzCD,mBAAA,CAYM,OAZNE,UAYM,GAXJF,mBAAA,CAAkC,YAA9B,SAAO,GAAAG,gBAAA,CAAGC,KAAA,CAAAC,QAAQ,IAAG,MAAI,iBAC7BL,mBAAA,CAAsC,WAAnC,sBAAoB,GAAAG,gBAAA,CAAGC,KAAA,CAAAE,KAAK,kBAC/BN,mBAAA,CAGM,OAHNO,UAGM,GAFJC,YAAA,CAA+EC,sBAAA;IAAlEX,KAAK,EAAC,iBAAiB;IAACY,EAAE,EAAC;;sBAAQ,MAAiBC,MAAA,QAAAA,MAAA,O,iBAAjB,mBAAiB,E;;;MACjEX,mBAAA,CAA8D;IAAtDF,KAAK,EAAC,gBAAgB;IAAEc,OAAK,EAAAD,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,QAAM,E,GAEvDb,mBAAA,CAIM,OAJNgB,UAIM,GAHJhB,mBAAA,CAES;IAFDF,KAAK,EAAC,mBAAmB;IAAEc,OAAK,EAAAD,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAG,WAAA,IAAAH,QAAA,CAAAG,WAAA,IAAAJ,IAAA,CAAW;KAAE,aAC3C,GAAAV,gBAAA,CAAGC,KAAA,CAAAc,KAAK,kCAAiC,QACrD,gB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}